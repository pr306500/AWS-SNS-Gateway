let express = require('express');
let http = require('http');
let io = require('socket.io');

const socketServer = http.createServer(express);
export const ioServer = io(socketServer);

socketServer.listen(3001);

// Socket event
ioServer.on('connection', socket => {
  console.info('Connected... \n');
  socket.on('create_room', subscriptionId => {
    console.info('Create room... \n');
    socket.join(subscriptionId);
  });
});

module.exports = ioServer;
